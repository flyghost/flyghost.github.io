---
title: 无线新技术
swiper: false
swiperImg: /medias/9.jpg
top: false
tags: WLAN
categories: wifi6
abbrlink: f40a5268
date: 2021-03-15 00:00:00
---

###### 无线新技术

# 同步双频 RSDB（Real Simultaneous Dual Band）

## 序言

这篇文章的起因是看到一个挺有趣的问题，其实笔者关注RSDB技术已经有一段时间了，之前是和无线讨论群里面朋友讨论LTE的载波聚合技术讨论到这个问题，当时问题是”LTE怎么能够做到带外载波聚合？WiFi为什么做不到带外载波聚合“，这个问题有点细节，因为802.11ac里面有支持160MHz带宽，这个带宽初始是只能够连续两个80MHz带宽才可以工作的，落实到802.11ac里面，160MHz带宽模式和80MHz+80MHz带宽模式实际上是两个模式，不过其带宽是近似相同的。当时就是讨论这个问题的时候，笔者已经关注到RSDB技术，那么今天因为是有人正好提出了”并发双频和同步双频什么区别？“这样的问题，所以正好笔者总结一下，作为一个记录。

又因为目前专栏中好像没有一个专题适合描述这个题目，因为这项技术实际上是IC厂家开发的，并不是802.11相关的具体技术，所以笔者新开启一个无线新技术的专题，同样的，笔者日后也会记录一些关于看到的无线新技术和新场景。

## 基本概念

我们先把概念理一理，由于WiFi设备被允许工作在2.4GHz和5GHz两个频段上，根据路由器支持的频段个并发方法，可以分成以下几种类型：

- **单频单发（Single Band Single Concurrent，SBSC）**
- **双频单发（Dual Band Single Concurrent，DBSC）**
- **双频双发（Dual Band Dual Concurrent，DBDC）**
- **双频自适应并发（Dual Band Adaptive Concurrent，DBAC）**

这些类型本质上都是看我的设备中包含的通路情况，我们这里说的通路包含了两个部分：

- **基带处理模块（主要是PHY+MAC的处理部分）**
- **RF前端（包含天线，PA，LNA等等）**

那么比如说SBSC，其包含了1套完整的通路（1个完整的基带处理+1个完整的RF前端），那么SBSC可以工作在单个频段上（比如说2.4GHz频段）。DBSC，其包含了2个完整的基带处理模块+1个RF前端，这个RF前端可以选择工作在2.4GHz频段上，也可以选择工作在5GHz频段上。虽然DBSC基带分别是支持2.4GHz和5GHz的，但是由于其RF前端只能稳定选择一个频段进行工作，所以DBSC只能够做到单发。**DBSC有时候也被称为虚拟同步双频段（Virtual Simultaneous Dual Band， VSDB）**。

那么DBDC是集成了2套完整的通路，包含了2个完整的基带处理+2个RF前端。由于其有两套独立的通路，那么意味着DBDC可以同时支持2.4GHz和5GHz两个频段工作。那么现在具体而言，DBDC两套完整的通路还有两种实现方法，**一种实现方法是用两块IC做DBDC（这个就是并发双频），一种实现方法是在一块IC内部做到DBDC（这个就是同步双频）**。

*Remark：DBSC和DBDC其实在我们实际场景都有用处，我们通常终端侧用的是DBSC（单发），而路由器侧用的是DBDC（双发）。也就是说，我们一般的网卡之类支持的双频模式，通常都是只支持一个频段工作，而路由器支持的双频，一般都是两个频段可以同时支持。*

## 并发双频（SDB）和同步双频（RSDB）

- **并发双频（Simultaneous Dual Band，SDB），也有写成Dual-band concurrent (5GHz/2.4GHz)，其是一种具体的双频工作模式，代表路由器可以同时产生两个独立的无线网络，分别对应2.4GHz和5GHz频段，这两个独立的无线网络可以采用不同的SSID，也可以采用相同的SSID。两个网络是独立运行的，所以可以做到并发执行。**

Remark: 为了对比，我们称呼并发双频为SDB，来源可以参考：[Why choose Simultaneous Dual Band?](https://link.zhihu.com/?target=https%3A//www.netgear.com/images/Simultaneous_Dual_Band_WP_15Feb1118-30527.pdf)。

**并发双频的实现：**并发双频通常是用两块IC，或者其射频前端的主要模块是两块IC构成的。可以参考下图（路由为WNDR3800），在PCB板上，我们可以明显的发现，其具有两块独立的RF区域。

![img](https://pic4.zhimg.com/80/v2-f476d9100bd50af8bdd6a830b302a583_720w.jpg)WNDR3800的主板图

其中1号区域和2号区域分别为AR9223和AR9220两块芯片，可以保证2.4GHz频段和5GHz频段可以同时工作。请注意，我们这里说的同时工作指的是两块芯片可以同时**独立**的工作。也就是两个无线网络可以完全无关联的。

所以我们在很多产品上可以看到其计算支持最大速率的时候，实际上是把每个频段的速率直接累加的，如下图RT-AC5300的介绍。

![img](https://pic2.zhimg.com/80/v2-0c76e0484adfe00f8e8b5287b0171609_720w.jpg)

由于国内5G频段分成两个子频段，包含5GHz-1和5GHz-2，所以实际上这款产品不止双频，已经是三频并发了。支持的总速率等于三个频率同时加到一起，1000 Mbps+2167 Mbps+2167 Mbps。

那么并发双频在实际上生活中，通常是三类用处：

- **家庭场景使用**：并发双频在家里面使用的时候，基本我们是把两个频段都使用相同的SSID，也就是仅仅当作一台无线路由器的角色使用。这个时候，我们通常是根据终端所开启的**频谱导航**技术，自适应的选择一个信号最好，连接速率最快的频段使用，在默认情况下，频谱导航会优先为终端选择5GHz频段进行接入。
- **商业场景使用**：在商业场景中，我们会将无线网络细化分成多个SSID，每个SSID可能对应的不同的用户群，无线侧是用SSID划分，backbone侧是用VLAN进行划分。在无线侧这一块，比如2.4GHz频段可能会划分到一些IoT的设备，那么用一个独立的SSID在2.4GHz做划分，然后给用户接入的无线网络仅仅在5GHz网络上激活，这样通过一个简单的规划，避免网络的过于拥堵。而且由于将不同类型或者不同用户群划分到不同的频段上，那么可以发挥去并发工作的优势。
- **中继/Mesh场景使用**：在Repeater场景下，并发双频有一个非常典型的应用，早期被叫做“伪全双工”。实际上就是利用2.4GHz给用户使用，用5GHz频段做backhaul的回传。这样也可以充分利用2.4GHz和5GHz的并发效果。如下图：

![img](https://pic4.zhimg.com/80/v2-5fda7469b25812f5b962dbd7c9d1b0b3_720w.jpg)Repeater场景 - 参考思科CCNA无线PPT

这项技术可以应用在Mesh网络场景下，如下图：

![img](https://pic4.zhimg.com/80/v2-6c5f4be94158014f99ecfd6562a44e2b_720w.jpg)Mesh场景 - 参考思科CCNA无线PPT

那么上述都是并发双频的一些技术特征。

- **同步双频（Real Simultaneous Dual Band，RSDB）：这个中文翻译其实和它英文代表的意思有点区别，，如果直接翻译的话，应该是即时同步双频。在英文表述中，同步双频多了一个Real，Real我们可以理解成“即时”的意思，也可以直接理解成“真”的意思。很明显我们发现，同步双频相比双频并发的英文，实际上就是多了一个“Real"。RSDB目前都是在一块IC内部集成的两个完整的通路。**

**RSDB是一项新的技术，其可以同时在5GHz和2.4GHz频段上工作，这个"Real"强调的就是这种工作时并发同步执行的**。不过由于RSDB的具体工作机制是由APP所设定的，从硬件角度上，IC厂家仅仅是提供了单块IC集成了两个独立通路，可以通过上层程序调度一块IC，同时工作在两个频段上。IC厂家提供了这种功能，那么这种功能具体要怎么用，目前还是要看APP是否支持，然后看具体的用法了。**我们需要强调的是，RSDB实际上是改善了终端侧的应用感觉，也就是其提升的是传统双频单发DBSC的设计，而对于路由侧而言，其改善的并不多。**

我们可以举例两种RDSB的使用场景：

- 终端比如同时工作在视频流播放和玩游戏这两个状态时，那么通过RSDB，可以将视频流放到一个频段上进行工作，将游戏放到另外一个频段上，这样将流量进行分流，可以获得更高的吞吐量和更低的延迟。
- 终端可以采用MPTCP（Multi-Path TCP）的类似技术，将2.4GHz和5GHz频段进行合并同时工作，这样能够明显提升吞吐量，而且综合两个信道的性能，一定程度上，我们可以认为这是一种不严格的“频率分集”的工作模式。

**我们再次对比下双频单发DBSC（或者称为VSDB）和RSDB。**

- **双频单发DBSC（VSDB）**：我们可以看到，在下图芯片结构中，由两个独立的RF前端，一个基带处理部分，然后对应到一个上层接口（WLAN Host Interface），因此只可以做到单发。

![img](https://pic4.zhimg.com/80/v2-399d988ea130f81443e76f205a9813b3_720w.jpg)

- **RSDB**：在下图芯片结构中，由两个独立的RF前端，这两个独立的RF前端对应到两个独立的基带处理，然后对应到一个上层接口（WLAN Host Interface），因此RSDB可以在一块IC内部，做到两个频段同时连接。

![img](https://pic3.zhimg.com/80/v2-e41ecd891f4d5de8a83d03eb1a0b3fae_720w.jpg)

目前还没有看到落实到终端用户侧的RSDB技术，联想到前段时间vivo手机的新功能，"双WiFi加速"技术，有一定可能性是通过RSDB技术实现的，不过目前笔者还没有考证过，目前这个是一个猜想。比如下图，vivo手机可以同时连接到两个WiFi上。不过再次声明，这仅仅是猜想，没有去考证过。

不过在知友补充下，这个新闻可能是验证我们这种说法：[告别卡顿，Qualcomm推出双Wi-Fi技术](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/4azotIMoxan-KPJc-lvlHQ)。

![img](https://pic1.zhimg.com/80/v2-7e6302e7fc73c434fd7693f3f89e5a2c_720w.jpg)

以上我们阐述了无线设备的双频工作模式，以及具体的并发双频和同步双频，那么看完本文的，可以用更专业点的属于，SDB和RSDB来做区分。那么这项技术再往后发展就是所谓的DBAC，双频自适应连接了，我们可以继续关注这些技术的后续发展。

